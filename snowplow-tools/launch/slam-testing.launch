<launch>
    <!-- set enviroment Variables -->
    <param name="use_sim_time" type="bool" value="false" />


    <!-- use ` rs-enumerate-devices -c` to get listing of the possible options  -->
    <arg name="width" default="1920"/>
    <arg name="height" default="1080"/>
    <!-- <arg name="fps" default="30"/> -->

    <!-- Start the Camera -->
    <include file="$(find realsense2_camera)/launch/rs_camera.launch">
        <arg name="color_width" value="$(arg width)"/>
        <arg name="color_height" value="$(arg height)"/>
        <!-- <arg name="color_fps" value="$(arg fps)"/> -->
        <!-- <arg name="enable_accel" value="false"/>
        <arg name="enable_fisheye" value="false"/> -->
    </include>


    <arg name="camera" default="tagStuff"/>
    <arg name="image" default="/camera/color/image_raw"/>

    <arg name="border_size" default="1"/>

    <node pkg="apriltag_ros" type="apriltag_detector_node" name="apriltag_detector" output="screen" ns="$(arg camera)">
        <param name="family" type="int" value="0"/>
        <param name="type" type="int" value="0"/>
        <param name="black_border" type="int" value="$(arg border_size)"/>

        <remap from="~image" to="$(arg image)"/>
        <remap from="~tags" to="tags"/>
        <remap from="~disp" to="disp"/>
    </node>

        <!-- start the SLAM stuff -->
    <include file="$(find tagslam)/launch/tagslam.launch">
        <arg name="config_dir" value="$(find snowplow-tools)/tagslam-configs"/>
        <arg name="run_online" default="true"/>
    </include>


</launch>